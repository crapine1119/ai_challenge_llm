# JobKorea GenAI JD Generation Project

본 프로젝트는 korcen (Apache-2.0)을 포함하고 있으며, 패키징 이슈로 경로만 일부 수정하여 사용합니다.

0) 목적·평가 관점 요약

목적: 기업 정보 + 과거 채용공고 + 사용자 질의로부터 맞춤형 채용공고를 생성하는 서비스의 정확도·안전·속도·UX를 비즈니스 관점에서 개선.

평가 초점: 정답보다 문제 이해 → 원인 분석 → 현실적 해결책 → 운영·UX 설계.

1) 문제 정의 (Markdown legacy 정교화)
1.1 입·출력 / 태스크

Input: 기업 정보(Company docs) + 과거 JD + 사용자 질의

Output: 스타일/톤/레벨/직무에 맞춘 정형화 JD

태스크 분해

Entity Extraction: 기업·JD·질의에서 도메인 필드 추출(역량, 우대, 근무형태 등)

Rewriting: 추출·선택된 정보로 사용자 의도에 맞춘 문장화

Authoring: 섹션별 제약(길이·DEI·법규·스타일)을 반영해 완성 JD 출력

1.2 핵심 제약

Hallucination 억제: 허용되지 않은 필드를 추측 생성 금지

민감·유해 표현 통제: DEI·법규·PII·비속어·연봉 추정 등 정책 고정

TTFMC/지연 이슈: 다중 요청·대형 모델 지연 상황에서 이탈 최소화

2) 이슈 1 — “사전 생성 데이터 중심 RAG”로 정확도·안전 확보
2.1 원인 재정의

(검색) 비정형 원문과 긴 문서는 임베딩 기반 검색에 노이즈·오탐을 유발

(프롬프트) 필수 필드 미정의·출력 자유도가 높을수록 모델이 빈칸을 추측

(검증) DEI/법 위반·민감 정보 사후 필터 미비

2.2 설계 원칙

RAG 최소화 & 정형 우선: “그때그때 벡터 검색”보다, 사전에 정규화·요약된 카탈로그를 1순위로 사용

스키마 강제(추측 금지): Pydantic v2 스키마(additionalProperties:false) 기반 필드 바인딩

다층 가드레일: 입력→생성중→출력의 연속 방어 체인

2.3 데이터 층위(사전 생성 카탈로그)

CompanyKnowledge: 기업 소개·문화·가치관·인재상(없으면 null 유지)

RoleCatalog: 직무별 핵심 스킬 유니버스(빈도/PMI/예문/길이 가이드)

StylePreset: 정형적, 트렌디(Notion류), 기술상세, 회사 고유 톤

PastJD Digest: 과거 JD를 섹션 스니펫과 근거 메타로 요약(출처/날짜 유지)

검색 순서: 정형 카탈로그 → 제한적 하이브리드 검색(필드별 스니펫).
정형 매칭 실패 시에만 Top-k 벡터로 보조(필드 매핑 가능한 스니펫만 허용).

2.4 사전 생성 파이프라인(예)

(수집) 기업·JD 원문 → (정규화) 필드 추출·중복 제거 →
(요약) 섹션 스니펫·키워드·PMI → (카탈로그화) Company/Role/Style/PastJD Digest

(스트럭처) 모든 엔티티는 ID/버전/출처/시점을 보존(감사·회귀 분석 대비)

2.5 생성 단계 제어

섹션 단위 생성(Requirements → Responsibilities → …)

스키마 바인딩: 누락·미확정은 **null**로 남기고 추정 금지

근거 친화: 각 bullet은 내부적으로 근거 ID를 태깅(출처 추적·품질 분석용)

2.6 민감·유해 통제

금지 규칙: 연령/성별/국적/혼인/병역/장애 차별, 개인정보 요구, 연봉 임의 추정 금지

입력 가드: korcen(Apache-2.0) → OpenAI Moderation → PII 스크럽

출력 가드: DEI 룰체커 → 표절/중복율 → 재작성 루프(사전 정의 한도 내 자동 재시도)

2.7 실패 시 폴백

데이터 부족: RoleCatalog + StylePreset 조합의 템플릿 초안 제시

충돌 데이터: 최신·신뢰도 높은 출처 우선(우선순위 정책) + 사용자 확인 플로우

2.8 품질 측정

스키마 위반율 < 5%

DEI/법 플래그 = 0(정책 위반 시 자동 재작성 성공률 ≥ 98%)

근거 커버리지(requirements bullet 대비 근거 연결 비율) ≥ 85%

편집율(필수 섹션) P50 ≤ 20% (프리셋/카탈로그 정밀도 지표)

3) 이슈 2 — “다중 API 통제 + 사전 생성 → 스트리밍 + 대기 가치”로 이탈 감소
3.1 다중 API 통제(안정성·성능)

멀티 공급자/엔드포인트: 모델·리전·계정 분산, 핫/콜드 라우팅

Admission Control: 사용자/테넌트별 동시성·TPS·토큰 한도

스케줄링: 라운드로빈 + 짧은 작업 선호 + 모델/큐 상태 기반 동적 우선순위

폴백 티어:

T0: 경량 모델(초안/목차/요약)

T1: 중형(세부 섹션)

T2: 대형(최종 품질/스타일 정교화)

SLO 위반/장애 시 하위 티어로 자동 강등

Hedged Request(선택): 임계시간 초과 시 보조 요청 발사 후 더 빠른 응답 채택

서킷 브레이커: 에러/타임아웃 임계 도달 시 자동 우회/냉각

3.2 사전 생성 + 캐시(대기 이전에 “즉시 값” 제공)

프리셋×회사×직무×레벨 조합으로 Top-N 초안(요약형 3종) 사전 생성

역할별 상위 스킬·PMI·예문, 제목 문구 후보, 길이 가이드를 사전 계산

최초 화면에서 즉시 카드/프리셋으로 표시(0-1s)

3.3 스트리밍(지각 성능 개선)

SSE로 섹션별 **First Meaningful Chunk (TTFMC)**를 1~2초 내 제공

진행률 모델: 큐(0–90%) / 생성(90–99%) / 완료(100%) + ETA±

점진적 상세화:

초안 bullets(경량) →

각 bullet 근거/예시 보강(중형) →

문체·톤 일관화(대형, 필요 시)

3.4 대기 가치(Waiting Value) — 이탈률 방지 핵심

대기 중에도 채용 의사결정에 즉시 쓸 수 있는 정보를 카드로 제공:

실시간 채용시장 (Role×Region×Seniority)

수요지수 D_t, 공급지수 S_t, 수급지수 I_t=D_t/(S_t+ε)

스킬 PMI 상위 + 급등/급락 태그(ESD)

제목 CTR 예측 Top-k(길이/형태소/숫자·이모지·시니어리티 피처)

즉시 반영 버튼: “제목 대체”, “요건에 스킬 추가”

인기 지원공고 & 피드백 댓글

뷰/저장/지원/참여 점수의 랭킹 + 신선도 감쇠

댓글은 모더레이션→PII 스크럽 후 노출, 상위 코멘트 LLM 요약

차별점 배지(복지·근무형태·보상 표기)

이전 공고 성과 리플레이 & 경쟁사 레이더

현재 JD와 과거 JD 유사도(제목 BM25 + 스킬 Jaccard/코사인)

Diff 임팩트(제목 길이/근무형태/보상 표기 변화 ↔ 전환율 차이)

경쟁사 새 공고 수/스킬 트렌드/근무형태 하이라이트

JD 생성 미리보기 대시보드

속도: TTFMC, P50/P95, 섹션별 시간, 내 큐 위치·ETA

품질: 읽기 난이도, 수동태 비율, 중복/표절, DEI 플래그

행동: 섹션별 수정/재생성율, 저장/내보내기

목표 UX: 대기=손실 시간이 아니라 학습·결정 가치를 얻는 구간으로 전환.

3.5 지표·SLO

TTFMC: ≤ 1.5s(초안) / P50 latency: ≤ 8s / P95: ≤ 18s

큐 ETA 오차(P50): ≤ ±25%

중단율(생성 실패): ≤ 1% / 폴백 성공률: ≥ 98%

이탈률: 기존 대비 ≥ 30% 감소

대기 중 상호작용율(카드 클릭/적용): ≥ 25%

4) 데이터·카탈로그 체계(운영 기준)
4.1 직무 코드(발췌)

인사담당자 1000201, AI/ML 1000242, 백엔드 1000229, 프론트 1000230, 마케팅기획 1000187, 재무 1000210

4.2 저장 구조(요지)

카탈로그: CompanyKnowledge, CompanyJDStyle, RoleCatalog(core_skills, PMI, phrasing), PastJD Digest

사전 생성 템플릿: 회사코드 | 직무코드 | 스타일 | JD 템플릿N

시장/인기/레이더: 스냅샷·스킬통계·랭킹·코멘트·경쟁사 지표

이벤트: jd_generation_events(requested, section_stream, first_meaningful_chunk, guardrail.blocked/retry, saved 등)

5) 가드레일·거버넌스

체인: korcen(Apache-2.0, 경로만 일부 수정·고지 유지) → OpenAI Moderation → PII Scrubber → DEI 룰체커 → 표절/중복

정책:

보호 속성(연령·성별·국적 등)·개인정보·임의 연봉 추정 금지

누락 필드는 추정 채우기 금지(스키마 null)

감사성: 모든 생성물에 근거ID·출처·시점 메타 보존

프라이버시: 대외 공유 시 집계·비식별만(K-anonymity 수준 권장)

6) 화면 흐름(요약, Vue 기준)

회사 선택 → 직무/연차 선택

중앙 4열 카드: 기본 프리셋 3 + 회사 스타일 1 즉시 표시(사전 생성)

분석하기 클릭 시 섹션별 SSE 스트리밍 시작(초안→세부→정교화)

우측 레일: 실시간 시장 / 인기공고·댓글 / 리플레이·레이더 / 미리보기 대시보드 상시 노출

문제(DEI/정책) 감지 시 1-클릭 재작성 제안

7) 성공 지표·실험

정확도: 스키마 위반율, 근거 커버리지, 사후 편집율

안전: DEI/법 플래그 0, 재작성 성공률

속도: TTFMC/P50/P95, ETA 오차

이탈: 세션 이탈률, 대기 중 상호작용율, 저장/내보내기율

실험:

A/B: (사전 생성 유무)×(대기 가치 카드 조합)×(스트리밍 전략)

라우팅: 경량→중형→대형 티어 스위치 임계 최적화

8) 결론

이슈 1은 사전 생성·정형 카탈로그를 RAG의 제1소스로 승격하고, 스키마 바인딩 + 다층 가드레일로 “추측”을 구조적으로 차단해야 합니다.

이슈 2는 다중 API 통제로 안정성을 확보하고, 사전 생성 → 스트리밍으로 체감 속도를 높이며, 대기 가치 카드로 대기 자체를 유의미한 시간으로 전환해야 합니다.

위 전략은 운영·컴플라이언스·UX를 동시에 충족하며, 공모전 목표(비즈니스 문제 해결 중심)에 부합합니다.